import gmpy2
'''
m = gmpy2.mpz(7476399817042909208328399809019541836555012732800276923512773289237567378611863398576047775000511595680119568794985626550148459939175524906080350508730610092087195819261176815750810955857171149087536478101867546141936772587146587579317228370250325119433476136250294513272859912574899032729403137530447654277869390150645600561633558501646823179384541289333174885646394995682056155899810894949207150782889023664567256439018518449962965794181958522459548219838000817437673619876627905165175907718862128645834432343296855909120398135902831017302008655514234238675775323369338598818692710581844983954457395236521360335219)
print(gmpy2.is_square(m))
ans = gmpy2.isqrt(m)
print(ans)
#ans = hex(ans)[2:-1].decode("hex")
while ans > 0:
	print(chr(ans%256))
	ans = int(ans/256)
'''

letter = gmpy2.mpz(5246714854725113346502630730554686769362460460024400516326377174582640581617340710826138679480295436331234207963461529282935208997428624889011546696260124285562972903578214766887742626982299066940742233276099045101758754159876941858460523496511762589246629169421146451313958152520373812386003438537883174073207043740529956867073333127369639805390764236392611481831378501794578225519437884851468056175989860754859991595520574160634748280117377466913600749771441057921368040518728100659821105472644679642632075853735222383344108215588801856832216683298621306263529594333455011123877122301231151688000552994875142333423)
base = gmpy2.mpz(17150948086006853589591993610767711903029749167719666894975279147137565458158322238156960171902445590052801235253045792984069360111140927413022122124794074712372666903008787076313652986830735891457266804676322092444602549744787142273336096470832931113698218899620404912992099097015038863714351384075897287966440984446042594077540591489657561322101444523900312965276873402643875552954061610698504308548301539759131150366661281651087532807818489741520557925049746199503634928208501195328273501508911193754334803125090416259379171809642283452935819219835361791073290320084884025929676790915171638558685021113076310785793)

p = gmpy2.mpz(130961628296256509203688558167635593723553913356760543890382119434581162340507411906149081831530791465121490809254472572128660282537887134954728668333303763155790295871693652007851065436374283916442512241694633008063722724742602750333491782821019252639698534922880498906462617380877186177574727639637556921771)

q = gmpy2.mpz(130961628296256509203688558167635593723553913356760543890382119434581162340507411906149081831530791465121490809254472572128660282537887134954728668333303763155790295871693652007851065436374283916442512241694633008063722724742602750333491782821019252639698534922880498906462617380877186177574727639637556922883)

mp = pow(letter, (p+1)/4, p)
mq = pow(letter, (q+1)/4, q)

gcd,yp,yq = gmpy2.gcdext(p,q)
r1 = gmpy2.f_mod((yp*p*mq+yq*q*mp),base)
r2 = base-r1
r3 = gmpy2.f_mod((yp*p*mq-yq*q*mp),base)
r4 = base-r3

print(hex(r2)[2:])
ans = hex(r2)[2:].decode("hex")
print(ans)

